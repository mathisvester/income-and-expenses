<ng-container *transloco="let t">
  <div class="mb-4 grid grid-cols-2 gap-4">
    <span class="text-green-600"
      >{{ t('earnings') }}: {{ totalEarnings | currency }}</span
    ><span class="text-red-600"
      >{{ t('spendings') }}: -{{ totalSpendings | currency }}</span
    >
  </div>
  @if (transactions.length >= 1) {
    <ul
      class="divide-y divide-gray-100 rounded-md border border-gray-300 bg-white">
      @for (transaction of transactions; track transaction.id) {
        <li class="grid auto-cols-max grid-flow-col gap-4 px-3 py-2">
          <div class="col-span-full">
            <p class="mb-0.5 text-xs text-gray-500">
              {{ transaction.date | date: 'short' }}
            </p>
            <p class="font-semibold text-gray-900">
              {{ transaction.description ?? '-' }}
            </p>
          </div>
          <div class="col-auto">
            @if (transaction.type === 'SPENDING') {
              <span class="text-red-600"
                >-{{ transaction.amount | currency }}</span
              >
            } @else {
              <span class="text-green-600">{{
                transaction.amount | currency
              }}</span>
            }
            @if (transaction.recurring) {
              {{ transaction.recurring }}
            }
            @if (transaction.categoryId) {
              {{ t('category') }}: {{ transaction.categoryId }}
            }
          </div>
          <div class="col-auto">
            <button
              (click)="deleteTransaction.emit(transaction.id)"
              [attr.aria-label]="t('delete')">
              <ng-icon name="heroTrash"></ng-icon></button
            ><button
              (click)="updateTransaction.emit(transaction.id)"
              [attr.aria-label]="t('update')">
              <ng-icon name="heroPencilSquare"></ng-icon>
            </button>
          </div>
        </li>
      }
    </ul>
  } @else {
    <p>{{ t('noItems') }}</p>
  }
</ng-container>
