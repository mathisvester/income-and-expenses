<ng-container *transloco="let t">
  @if (transactions.length >= 1) {
    <ul
      class="divide-y divide-gray-200 rounded-md border border-gray-200 bg-white shadow-sm">
      @for (transaction of transactions; track transaction.id) {
        <li
          class="grid grid-cols-[1fr_auto_auto] items-center gap-4 px-4 py-3.5">
          <div>
            <p class="mb-1 text-xs text-gray-500">
              {{ transaction.date | date: 'shortDate' }}
              @if (transaction.recurring) {
                {{ transaction.recurring }}
              }
              @if (transaction.categoryId) {
                {{ t('category') }}: {{ transaction.categoryId }}
              }
            </p>
            <p class="font-semibold text-gray-900">
              {{ transaction.description ?? '-' }}
            </p>
          </div>
          <div>
            @if (transaction.type === 'SPENDING') {
              <span class="text-red-600"
                >-{{ transaction.amount | currency }}</span
              >
            } @else {
              <span class="text-green-600">{{
                transaction.amount | currency
              }}</span>
            }
          </div>
          <div>
            <button
              appButton
              (click)="deleteTransaction.emit(transaction.id)"
              [attr.aria-label]="t('delete')">
              <ng-icon name="heroTrash"></ng-icon></button
            ><button
              appButton
              (click)="updateTransaction.emit(transaction.id)"
              [attr.aria-label]="t('update')">
              <ng-icon name="heroPencilSquare"></ng-icon>
            </button>
          </div>
        </li>
      }
    </ul>
  } @else {
    <p>{{ t('noItems') }}</p>
  }
</ng-container>
